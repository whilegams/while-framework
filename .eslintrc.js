module.exports = {
  overrides: [
    {
      env: {
        node: true,
      },
      files: ['**/*.{js,json}'],
      parserOptions: {
        sourceType: 'script',
      },
      extends: [
        'prettier',
        'plugin:prettier/recommended',
        'plugin:json/recommended',
      ],
      plugins: ['import'],
      rules: {
        'no-unused-vars': 'warn',
        'prettier/prettier': 'warn',
        'prefer-destructuring': 'warn',
        'import/no-dynamic-require': 'off',
        'global-require': 'off',
      },
    },
    {
      env: {
        browser: true,
        es2021: true,
      },
      files: ['**/*.{ts,tsx}'],
      parser: '@typescript-eslint/parser',
      parserOptions: {
        ecmaVersion: 'latest',
        sourceType: 'module',
        project: './tsconfig.base.json',
        tsconfigRootDir: __dirname,
      },
      extends: [
        'plugin:@typescript-eslint/eslint-recommended',
        'plugin:@typescript-eslint/recommended',
        'prettier',
        'plugin:prettier/recommended',
        'plugin:import/typescript',
        'plugin:react/recommended',
        'plugin:react-hooks/recommended',
        'eslint-config-next',
        'plugin:styled-components-a11y/recommended',
      ],
      plugins: [
        'react',
        'react-hooks',
        'import',
        '@typescript-eslint',
        'jsx-a11y',
        'styled-components-a11y',
      ],
      rules: {
        'import/no-extraneous-dependencies': 0,
        'import/order': 1,
        'react/function-component-definition': [
          1,
          {
            namedComponents: [
              'function-declaration',
              // "function-expression",
              'arrow-function',
            ],
            // "unnamedComponents": ["function-expression", "arrow-function"]
          },
        ],
        'react/prop-types': 1,
        'no-nested-ternary': 0,
        'no-restricted-exports': 0,
        'no-param-reassign': 0,
        '@next/next/no-img-element': 0,
        radix: 'off',
        'prefer-destructuring': 0,
        'react/require-default-props': 0,
        '@typescript-eslint/no-unused-vars': 'warn',
        'no-bitwise': 'off',
        'import/no-named-as-default': 0,
        'prettier/prettier': 'warn',
        'import/prefer-default-export': 0,
        '@typescript-eslint/naming-convention': 'off',
        'react/jsx-curly-brace-presence': 'off',
        'consistent-return': 0,
        'no-plusplus': 0,
        'class-methods-use-this': 'off',
        '@typescript-eslint/no-explicit-any': 'warn',
        'import/no-cycle': 'warn',
        'no-return-assign': 'off',
        'react/forbid-prop-types': 'warn',
        'react/no-unused-prop-types': 'warn',
        'no-restricted-syntax': 1,
        'react/no-unstable-nested-components': 1,
        'no-console': ['warn', { allow: ['warn', 'error'] }],
      },
    },
    {
      files: ['**/*.stories.*'],
      extends: ['plugin:storybook/recommended'],
      rules: {
        'react/destructuring-assignment': 'off',
        'react/jsx-props-no-spreading': 'off',
        // '@typescript-eslint/explicit-function-return-type': 'off',
        // // import
        // 'import/no-anonymous-default-export': 0,
        // 'import/no-extraneous-dependencies': 0,
        // 'import/no-unused-modules': 0,
        // '@next/next/no-html-link-for-pages': 0,
        'react/display-name': 0,
      },
    },
    {
      files: ['**/*.test.*', '**/*.spec.*', 'tests/*', '**/mocks/*'],
      plugins: ['jest', 'jest-dom'],
      env: { browser: true, es6: true, jest: true, node: true },
      extends: ['plugin:jest/recommended', 'plugin:jest-dom/recommended'],
      rules: {
        // 'jsx-a11y/control-has-associated-label': 'off',
        'react/prop-types': 'off',
        'react/button-has-type': 'off',
        'react/function-component-definition': 'off',
        'react/jsx-no-useless-fragment': 'off',
        // 'react/jsx-curly-brace-presence': 'off',
        // 'no-restricted-syntax': 'off',
        // 'guard-for-in': 'off',
        'react/jsx-props-no-spreading': 'off',
        // 'import/no-extraneous-dependencies': 'off',
        // 'testing-library/no-node-access': 'off',
        // 'react/no-array-index-key': 'warn',
        // 'no-useless-escape': 'warn',
        // '@typescript-eslint/explicit-function-return-type': 'off',
        // // TODO: for MVP development
        // 'jest/no-disabled-tests': 'off',
        // '@next/next/no-html-link-for-pages': 0,
        'react/display-name': 0,
        // 'jest/no-alias-methods': 1,
        'jest/no-conditional-expect': 1,
        // 'jest/no-focused-tests': 1,
        // 'jest-dom/prefer-to-have-class': 1,
        // 'jest-dom/prefer-to-have-attribute': 1,
        // 'jest-dom/prefer-to-have-value': 1,
        'jest-dom/prefer-checked': 1,
        'jest-dom/prefer-enabled-disabled': 1,
        // 'jest-dom/prefer-to-have-text-content': 1,
      },
    },
    {
      files: ['**/*.styled.ts'],
      rules: {
        '@typescript-eslint/explicit-function-return-type': 0,
      },
    },
  ],
};
